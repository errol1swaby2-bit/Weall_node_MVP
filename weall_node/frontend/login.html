<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>WeAll â€¢ Login</title>
<style>
body{background:#000;color:#fff;font-family:Arial;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;margin:0;text-align:center}
input,button{margin:8px;padding:10px 15px;border:none;border-radius:6px;font-size:16px}
input{background:#111;color:#fff;width:220px;text-align:center}
button{background:#222;color:#fff;cursor:pointer;width:120px}
button:hover{background:#444}
</style>
</head>
<body>
<h1>Welcome to WeAll</h1>
<p>Enter your existing user ID or create a new one.</p>
<input id="user-id" placeholder="User ID">
<div>
  <button onclick="login()">Login</button>
  <button onclick="register()">Register</button>
</div>
<script>
function login(){
  const id=document.getElementById('user-id').value.trim();
  if(!id)return alert("Enter your user ID");
  localStorage.setItem('user_id',id);
  location.href='index.html';
}
async function register(){
  const id=document.getElementById('user-id').value.trim();
  if(!id)return alert("Enter a user ID");
  const res=await fetch('/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:id,poh_level:1})});
  const data=await res.json();
  if(data.ok){localStorage.setItem('user_id',id);alert("Account created!");location.href='index.html';}
  else alert("Error: "+(data.error||JSON.stringify(data)));
}
</script>
</body>
</html>
