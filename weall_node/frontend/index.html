<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>WeAll â€¢ Dashboard</title>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}
nav{display:flex;justify-content:space-around;align-items:center;background:#111;padding:10px 0;gap:8px}
nav button{background:#222;color:#fff;border:none;padding:10px 20px;cursor:pointer;font-size:16px;border-radius:6px;position:relative}
nav button.active{background:#555}
#welcome-user{font-size:15px;color:#aaa;margin-right:10px}
.badge{position:absolute;top:-4px;right:-4px;width:10px;height:10px;border-radius:50%;background:#10b981;opacity:0;transition:opacity .25s ease}
section{display:none;padding:20px;min-height:calc(100vh - 50px)}section.active{display:block}
.panel{background:#111;border:1px solid #333;border-radius:8px;padding:15px;margin-bottom:15px}
button{background:#1f2937;color:#fff;border:1px solid #374151;cursor:pointer;border-radius:6px;padding:6px 10px}
button:hover{background:#374151}
small.update{color:#888;font-size:13px}
@keyframes pulse-kf{0%{box-shadow:0 0 0 0 rgba(16,185,129,0.6)}70%{box-shadow:0 0 0 12px rgba(16,185,129,0)}100%{box-shadow:0 0 0 0 rgba(16,185,129,0)}}
.pulse{animation:pulse-kf 1.2s ease-out;border-color:#10b981 !important}
.post-card,.proposal-card{border:1px solid #2b2b2b;border-radius:8px;padding:12px;margin:10px 0;background:#0b0b0b}
</style>
</head>
<body>
<nav>
  <div id="welcome-user"></div>
  <button onclick="showPage('feed')" id="tab-feed" class="active">Feed<span id="badge-feed" class="badge"></span></button>
  <button onclick="showPage('governance')" id="tab-governance">Governance<span id="badge-gov" class="badge"></span></button>
  <button onclick="showPage('profile')" id="tab-profile">Profile<span id="badge-profile" class="badge"></span></button>
  <button onclick="logout()" style="background:#400;">Logout</button>
</nav>

<section id="feed" class="active">
  <h2>Feed</h2>
  <div class="panel" id="feed-panel">
    <h3>Proof-of-Humanity Onboarding</h3>
    <div class="actions">
      <button onclick="registerUser()">Register (Tier 1)</button>
      <button onclick="requestTier1()">Verify Email</button>
      <button onclick="startTier3Request()">Request Tier 3</button>
      <button onclick="initiateFounderVideo()">Founder Video</button>
      <button onclick="founderApprove()">Founder Approve</button>
      <button onclick="initiatePanel()">Start Juror Panel</button>
      <button onclick="checkTier3Status()">Check Status</button>
      <button onclick="getTier3NFT()">Get NFT</button>
    </div>
  </div>
  <div class="panel" id="feed-panel-list">
    <h3>Posts Feed</h3>
    <div id="feed"></div>
    <small id="feed-last-updated" class="update"></small>
  </div>
</section>

<section id="governance">
  <h2>Governance</h2>
  <div class="panel" id="gov-panel">
    <div id="proposal-list"></div>
    <small id="gov-last-updated" class="update"></small>
  </div>
</section>

<section id="profile">
  <h2>Profile</h2>
  <div class="panel" id="profile-panel">
    <div id="profile-data"></div>
    <small id="profile-last-updated" class="update"></small>
  </div>
</section>

<script>
function showPage(p){
  // clear all badges on tab switch
  ['badge-feed','badge-gov','badge-profile'].forEach(id=>{const b=document.getElementById(id);if(b)b.style.opacity='0';});

  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(p).classList.add('active');
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById(`tab-${p}`).classList.add('active');

  if(p==='feed')initFeedRefresh();
  if(p==='governance')initGovRefresh();
  if(p==='profile')initProfileRefresh();
}
</script>
<script src="main.js"></script>
<script src="footer.js"></script>
</body>
</html>
